# Функционал начисления баллов за мероприятия

## Обзор изменений

Добавлен полный функционал для указания и начисления баллов за участие в мероприятиях.

## Новые возможности

### Для администраторов

1. **Создание мероприятий с баллами**
   - При создании мероприятия можно указать количество баллов, которое получит ученик за участие
   - По умолчанию устанавливается 10 баллов
   - Минимальное значение: 0 баллов

2. **Редактирование баллов**
   - Возможность изменить количество баллов за существующее мероприятие
   - При изменении баллов автоматически пересчитываются баллы всех участников

3. **Отображение баллов в админ-панели**
   - В карточках мероприятий отображается количество баллов с иконкой трофея
   - Показывается только если баллы больше 0

### Для учеников

1. **Просмотр баллов на странице мероприятий**
   - В карточке каждого мероприятия отображается количество баллов за участие
   - Информация показывается с зеленой иконкой трофея

2. **Отображение заработанных баллов в профиле**
   - В разделе "Мои мероприятия" показываются заработанные баллы
   - Баллы отображаются только для мероприятий со статусом "Присутствовал"

## Техническая реализация

### База данных
- Поле `points` в таблице `events` уже существует со значением по умолчанию 10

### Backend
- API для создания и редактирования мероприятий обновлено для работы с полем points
- Система пересчета баллов учитывает значение points из таблицы events
- При подтверждении участия баллы автоматически начисляются

### Frontend
- Обновлен тип `Event` для включения поля `points?`
- Добавлены поля ввода баллов в формы создания и редактирования мероприятий
- Добавлено отображение баллов в карточках мероприятий для учеников и администраторов
- Обновлен профиль пользователя для отображения заработанных баллов

## Процесс начисления баллов

1. Администратор создает мероприятие с указанием количества баллов
2. Ученики регистрируются на мероприятие
3. После проведения мероприятия администратор подтверждает участие учеников
4. Баллы автоматически начисляются только подтвердившим участие
5. Баллы учитываются в общем балансе ученика и рейтинге

## Важные моменты

- Баллы начисляются только после подтверждения участия администратором
- При отмене подтверждения участия баллы автоматически списываются
- Изменение количества баллов за мероприятие пересчитывает баллы всех участников
- Удаление мероприятия автоматически убирает соответствующие баллы из баланса учеников
